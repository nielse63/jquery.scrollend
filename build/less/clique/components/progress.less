// Name:            Progress
//
// Description:     Defines styles for progress bars
//
// Component:       `.progress`
//
// Sub-objects:     `.progress-bar`
//
// Modifiers:       `.progress-mini`
//                  `.progress-small`
//                  `.progress-success`
//                  `.progress-warning`
//                  `.progress-danger`
//                  `.progress-striped`
//

@import "../mixins/mixins.less";
@import "../variables/variables.less";

// ========================================================================
// Variables
// ========================================================================

@progress-height: 20px;
@progress-mini-height: 6px;
@progress-small-height: 12px;
@progress-margin-vertical: @global-margin;
@progress-background: @global-default-background;

@progress-bar-background: @color-primary-background;
@progress-bar-font-size: @global-font-size-small;
@progress-bar-line-height: unit(@progress-height) / unit(@progress-bar-font-size);
@progress-bar-color: @color-white;
@progress-bar-success-background: @color-success-background;
@progress-bar-warning-background: @color-warning-background;
@progress-bar-danger-background: @color-danger-background;

// ========================================================================
// Component: Progress
// ========================================================================

.keyframes(progress-bar-stripes, ~"0% { background-position: 0 0; } 100% { background-position: 30px 0; }");

.progress {
	height: @progress-height;
	margin-bottom: @progress-margin-vertical;
	background-color: @progress-background;
	overflow: hidden;
	.box-shadow(inset 0 0 0 1px fade(#000, 6%));
	.border-radius(@progress-height / 2);

	* + & {
		margin-top: @progress-margin-vertical;
	}

	// Sub-object: `.progress-bar`
	// ========================================================================

	&-bar {
		width: 0;
		height: 100%;
		background-color: @progress-bar-background;
		float: left;
		.transition(width 600ms ease);
		font-size: @progress-bar-font-size;
		line-height: @progress-bar-line-height;
		color: @progress-bar-color;
		text-align: center;
		.box-shadow(inset 0 0 5px fade(#000, 5%));

		// Color modifiers
		// ========================================================================

		&-success {
			background-color: @progress-bar-success-background;
		}

		&-warning {
			background-color: @progress-bar-warning-background;
		}

		&-danger {
			background-color: @progress-bar-danger-background;
		}

		&-striped {
			.background-image(linear-gradient(-45deg, fade(#fff, 15%) 25%, transparent 25%, transparent 50%, fade(#fff, 15%) 50%, fade(#fff, 15%) 75%, transparent 75%, transparent));
			.background-size(30px 30px);

			&.active {
				.animation(progress-bar-stripes 2s linear infinite);
			}
		}
	}

	// Size modifiers
	// ========================================================================

	&-mini {
		height: @progress-mini-height;
		.border-radius(@progress-mini-height / 2);
	}

	&-small {
		height: @progress-small-height;
		.border-radius(@progress-small-height / 2);
	}
}
